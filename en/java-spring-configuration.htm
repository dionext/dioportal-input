<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" lang="en"> 
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
        <meta charset="utf-8" /> 
        <meta http-equiv="Content-Language" content="en" />
        <title>Spring: Configuration</title>
        <meta name="description" content="" />
        <meta name="keywords" content="" />
    </head>
    <body> 
        <h1>Spring: <a name="id1"></a>Configuration</h1> 
        <div> 
            <ul class="list-unstyled" id="TOC"> 
                <li><a href="#id0">Properties Configuration</a></li> 
                <li><a href="#id42">Spring profiles</a></li> 
                <li><a href="#id1">Search for resources and files</a></li> 
            </ul>
        </div> 
        <h2><a name="id0"></a>Properties Configuration</h2> 
        <p>Properties play an important role in almost all applications and can come from various sources: file properties, JVM system properties, operating system environment, JNDI, etc. Properties are represented by a set of PropertySource objects and the values are ultimately obtained from the same sources as System.getProperties () and System.getenv()</p> 
        <p>SpringApplication loads properties from application.properties files in the following locations and adds them to the Spring Environment:<br /> </p> 
        <ul> 
            <li>The /config subdirectory of the current directory </li> 
            <li>The current directory </li> 
            <li>The /config package in the classpath </li> 
            <li>The classpath root </li> 
        </ul> 
        <p>The list is ordered by priority (properties defined in locations higher in the list override properties defined in locations lower).<br /> </p> 
        <p>You can also use YAML files ('.yml') as an alternative to '.properties'. If you don't like application.properties as the configuration file name, you can switch to a different file name by specifying the spring.config.name environment property. You can also reference an explicit location using the spring.config.location environment property (which is a comma-separated list of directory locations or file paths).<span>&#xa0;</span></p> 
        <p> <a href="https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html" rel="nofollow" target="_blank" class="external"> https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html</a> </p>
		<p> 
		<a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config">
		https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config</a> </p> 
        <p>Spring Boot uses a very particular<span>&#xa0;</span>PropertySource<span>&#xa0;</span>order that is designed to allow sensible overriding of values. Properties are considered in the following order:</p> 
        <div> 
            <ol type="1"> 
                <li> <a href="https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-globalsettings" title="20.4&#xa0;Global settings" rel="nofollow" target="_blank" class="external"> Devtools global settings properties</a><span>&#xa0;</span>on your home directory (~/.spring-boot-devtools.properties<span>&#xa0;</span>when devtools is active).</li> 
                <li> <a href="https://docs.spring.io/spring/docs/4.3.25.RELEASE/javadoc-api/org/springframework/test/context/TestPropertySource.html" target="_blank" rel="nofollow" class="external"> @TestPropertySource</a><span>&#xa0;</span>annotations on your tests.</li> 
                <li> <a href="https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/api/org/springframework/boot/test/context/SpringBootTest.html" target="_blank" rel="nofollow" class="external"> @SpringBootTest#properties</a><span>&#xa0;</span>annotation attribute on your tests.</li> 
                <li>Command line arguments.</li> 
                <li>Properties from<span>&#xa0;</span>SPRING_APPLICATION_JSON<span>&#xa0;</span>(inline JSON embedded in an environment variable or system property)</li> 
                <li>ServletConfig<span>&#xa0;</span>init parameters.</li> 
                <li>ServletContext<span>&#xa0;</span>init parameters.</li> 
                <li>JNDI attributes from<span>&#xa0;</span>java:comp/env.</li> 
                <li>Java System properties (System.getProperties()).</li> 
                <li>OS environment variables.</li> 
                <li>A<span>&#xa0;</span>RandomValuePropertySource<span>&#xa0;</span>that only has properties in<span>&#xa0;</span>random.*.</li> 
                <li> <a href="https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties" title="24.4&#xa0;Profile-specific properties" rel="nofollow" target="_blank" class="external"> Profile-specific application properties</a><span>&#xa0;</span>outside of your packaged jar (application-{profile}.properties<span>&#xa0;</span>and YAML variants)</li> 
                <li> <a href="https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties" title="24.4&#xa0;Profile-specific properties" rel="nofollow" target="_blank" class="external"> Profile-specific application properties</a><span>&#xa0;</span>packaged inside your jar (application-{profile}.properties<span>&#xa0;</span>and YAML variants)</li> 
                <li>Application properties outside of your packaged jar (application.properties<span>&#xa0;</span>and YAML variants).</li> 
                <li>Application properties packaged inside your jar (application.properties<span>&#xa0;</span>and YAML variants).</li> 
                <li> <a href="https://docs.spring.io/spring/docs/4.3.25.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySource.html" target="_blank" rel="nofollow" class="external"> @PropertySource</a><span>&#xa0;</span>annotations on your<span>&#xa0;</span>@Configuration<span>&#xa0;</span>classes.</li> 
                <li>Default properties (specified using<span>&#xa0;</span>SpringApplication.setDefaultProperties).</li> 
            </ol> 
        </div> 
        <h2><a name="id42"></a>Spring profiles</h2> 
        <p><a href="https://www.baeldung.com/spring-profiles" rel="nofollow" target="_blank" class="external">https://www.baeldung.com/spring-profiles</a> </p> 
        <p>&#xa0;</p> Activating or Setting a Profile<a href="https://www.baeldung.com/spring-profiles#1-activating-or-setting-a-profile" rel="nofollow" target="_blank" class="external"></a> &#xa0; 
        <pre><code class="language-bash">spring.profiles.active=dev</code></pre> 
        <p> <a href="https://reflectoring.io/spring-boot-profiles/#how-to-activate-profiles" rel="nofollow" target="_blank" class="external"> https://reflectoring.io/spring-boot-profiles/#how-to-activate-profiles</a> </p> 
        <pre tabindex="0">export SPRING_PROFILES_ACTIVE=test,prod</pre> 
        <pre tabindex="0">java -Dspring.profiles.active=prod -jar profiles-0.0.1-SNAPSHOT.jar</pre> 
        <pre tabindex="0"> application<span>.setAdditionalProfiles("baz");</span>
application<span>.run(</span>args<span>);</span></pre> 
        <pre tabindex="0"><span>@SpringBootTest</span>
<span>@ActiveProfiles({"foo",</span> <span>"bar"})</span>
<span>class</span> <span>FooBarProfileTest</span> <span>{</span></pre> 
        <p>A profile is a named group of bean definitions that are registered by the container only when the profile is active. A bean definition profile allows you to register different beans for different environments. For example, you have two application stands, testing, where you test for errors, and production, the actual working application. At the same time, some parameters in your environments will probably differ, such as connecting to a database, etc. Profiles will help you a lot, because you don't have to change anything every time and rebuild for each environment. </p> 
        <h2><a name="id1"></a>Search for resources and files</h2> 
        <p><a href="https://howtodoinjava.com/spring-boot2/read-file-from-resources/" rel="nofollow" target="_blank" class="external"> https://howtodoinjava.com/spring-boot2/read-file-from-resources/</a> </p> 
        <p><a href="https://www.baeldung.com/spring-load-resource-as-string" rel="nofollow" target="_blank" class="external">https://www.baeldung.com/spring-load-resource-as-string</a> </p> 
        <pre><code class="language-java">@Autowired 
private ResourceLoader resourceLoader;
public void method() { 
	Resource resource = resourceLoader.getResource("classpath:filename.txt"); 
	File file = resource.getFile()); 
//... } 
//OR 
Resource resource = new ClassPathResource("classpath:filename.txt"); 
//OR 
@Value("classpath:filename.txt") 
Resource resource;</code></pre> &#xa0; There are a number of&#xa0;Resource&#xa0;implementations&#xa0;inbuilt in Spring such as 
        <ul> 
            <li>ClassPathResource: loads a resource from the classpath. We can specify the path to the resource relative to the root of the classpath. It supports resolution as&#xa0;java.io.File&#xa0;if the class path resource resides in the filesystem but not for resources in a JAR. It recognizes the special&#xa0;prefix&#xa0;'classpath:'on the string path.</li> 
            <li>UrlResource: Loads a resource from a URL. We can specify the URL of the resource with&#xa0;prefix&#xa0;'http:'&#xa0;or ‘file:‘ if it is a file protocol.</li> 
            <li>FileSystemResource: Loads a resource from the file system. We can specify the absolute path to the resource on the file system with&#xa0;prefix&#xa0;'file:'.</li> 
            <li>ServletContextResource: Loads a resource from the&#xa0;ServletContext. We can specify the path to the resource relative to the&#xa0;ServletContext. It&#xa0;does not use any prefixes. </li> 
        </ul> 
        <pre><code class="language-java">Resource classPathResource = resourceLoader.getResource("classpath:file.txt"); 
Resource urlResource = resourceLoader.getResource("http://example.com/file.txt"); 
Resource fileSystemResource = resourceLoader.getResource("file:/path/to/file.txt"); 
Resource servletContextResource = resourceLoader.getResource("/WEB-INF/file.txt");
File file = resource.getFile(); 
String content = new String(Files.readAllBytes(file.toPath()));
</code></pre> 
    </body>
</html>